<!DOCTYPE html>
<html dir="rtl">

<head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <title>صفحۀ اصلی</title>
    <script>
        let categories = "croc bird dino".split(" ");
        let rows = "h c".split(" ");
        function bodyloader() {
            let pichover = document.querySelector("#pichover");
            pichover.style.display = 'none';
            // image hover shower
            document.querySelectorAll("main .mycell:has(>a)").forEach((pic) => {
                pic.addEventListener('mousemove', (e) => {
                    pichover.style.left = (e.pageX + 10) + 'px';
                    pichover.style.top = (e.pageY - 10) + 'px';
                });
                pic.addEventListener('mouseout', (e) => {
                    pichover.style.display = 'none';
                });
                pic.querySelector('a').addEventListener('mouseenter', (e) => {
                    pichover.style.display = 'block';
                });
            });
            //grid maker
            categories.forEach((cat) => {
                rows.forEach((row) => {
                    var name = cat + "_" + row;
                    console.log(name);
                    document.querySelector("." + name)
                        .style.gridArea = name;
                });
            });
        }
        function gridShuffler() {
            let shuffled = categories
                .map(value => ({ value, sort: Math.random() }))
                .sort((a, b) => a.sort - b.sort)
                .map(({ value }) => value)
            let shuffled_c = shuffled.map(item => item + "_c").join(" ");
            let shuffled_h = shuffled.map(item => item + "_h").join(" ");
            document
                .querySelector(".mythead")
                .style
                .gridTemplateAreas = (
                    '"' + shuffled_h + '"'
                );
            document
                .querySelector(".mytable")
                .style
                .gridTemplateAreas = (
                    '"mythead mythead mythead" "'
                    + shuffled_c + '"'
                );
        };
    </script>
</head>

<body onload="bodyloader();">
    <header>
        <h1>خوش آمدید</h1>
        <nav id="top">
            <ul type="square">
                <!-- TODO fixed grid menu -->
                <li><a href="./dinos.html">
                        صفحه‌ی دایناسور‌ها
                    </a></li>
                <li><a href="./crocs.html">
                        صفحه‌ی تمساح‌ها
                    </a></li>
                <li><a href="./birds.html">
                        صفحه‌ی پرندگان
                    </a></li>
                <li><a href="./rst.html">
                        مشاهده فایل ‌rst
                    </a></li>
            </ul>
        </nav>
    </header>
    <hr />
    <main>
        <!-- TODO make printable -->
        <!-- TODO add grid in pages -->
        <!-- TODO add grid in rst -->
        <article>
            <section>
                <p>
                    این وب‌گاه با هدف خاصی تشکیل نشده‌است
                    و برای تکلیف درس مباحث ویژه استفاده
                    می‌شود. از ۳ موضوع تقریبا غیر مرتبط
                    <a href="./crocs.html">تمساح‌ها</a>،
                    <a href="./birds.html">پرندگان</a> و
                    <a href="./dinos.html">دایناسورها</a>
                    برای تولید محتوا استفاده شده‌است.برای
                    افزایش حجم مطالب این صفحه، صفحات دیگر را
                    به صورت iframe
                    در اینجا نیز قرار می‌دهیم.
                </p>
                <p></p>
            </section>
        </article>
        <center>
            <div id="pichover">
                عکس‌ها قابل کلیک هستند.
            </div>
            <button onclick="gridShuffler();" id="shuffler" type="button">
                shuffle
            </button>
            <div class="mytable" border="2px">
                <div class="mythead">
                    <div class="mycell dino_h">دایناسور‌ها</div>
                    <div class="mycell croc_h">تمساح‌ها</div>
                    <div class="mycell bird_h">پرندگان</div>
                </div>
                <div class="mycell dino_c">
                    <a href="./dinos.html">
                        <img src="./dinos.jpg" alt="دایناسور‌ها" />
                    </a>
                </div>
                <div class="mycell croc_c">
                    <a href="./crocs.html">
                        <img src="./crocs.jpg" alt="تمساح‌ها" />
                    </a>
                </div>
                <div class="mycell bird_c">
                    <a href="./birds.html">
                        <img src="./birds.png" alt="پرندگان" />
                    </a>
                </div>
            </div>
        </center>
        <hr />
        <details>
            <summary>دایناسور‌ها</summary>
            <iframe src="./dinos.html" frameborder="0"></iframe>
        </details>
        <hr />
        <details open>
            <summary>تمساح‌ها</summary>
            <iframe src="./crocs.html" frameborder="0"></iframe>
        </details>
        <hr />
        <details>
            <summary>پرندگان</summary>
            <iframe src="./birds.html" frameborder="0"></iframe>
        </details>
        <hr />

    </main>
    <aside></aside>
    <br />
    <footer>
        <a href="#top">برگشت به بالا</a>
    </footer>
</body>

</html>